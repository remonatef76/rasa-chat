;;;;;;;;;AAAA,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,SAAD,EAAe;AACvCA,EAAAA,SAAS,GAAG,CAACC,IAAI,CAACC,GAAL,KAAaF,SAAd,IAA2B,IAAvC;AACA,MAAIG,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWL,SAAS,GAAG,EAAvB,CAAd;;AAEA,MAAI,CAACG,OAAL,EAAc;AACZ,QAAI,CAACC,IAAI,CAACC,KAAL,CAAWL,SAAX,CAAL,EAA4B;AAC1B,aAAO,UAAP;AACD;;AACD,qBAAUI,IAAI,CAACC,KAAL,CAAWL,SAAX,CAAV;AACD;;AAED,MAAIG,OAAO,GAAG,EAAd,EAAkB;AAChB,qBAAUA,OAAV;AACD;;AAED,MAAIG,KAAK,GAAGF,IAAI,CAACC,KAAL,CAAWF,OAAO,GAAG,EAArB,CAAZ;;AACA,MAAIG,KAAK,GAAG,EAAZ,EAAgB;AACd,qBAAUA,KAAV;AACD;;AACD,MAAIC,IAAI,GAAGH,IAAI,CAACC,KAAL,CAAWC,KAAK,GAAG,EAAnB,CAAX;AACA,mBAAUC,IAAV;AACD,CArBD;;;;AAuBA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,GAAD,EAAMC,KAAN,EAAaC,MAAb,EAAwB;AACjD,MAAIA,MAAM,KAAK,KAAf,EAAsB;AACpB,QAAI,QAAOD,KAAP,MAAiB,QAArB,EAA+B;AAC7BA,MAAAA,KAAK,GAAGE,IAAI,CAACC,SAAL,CAAeH,KAAf,CAAR;AACD;;AACDI,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BP,GAA5B,EAAiCC,KAAjC;AACD;;AAED,MAAIO,MAAM,GAAGH,MAAM,CAACC,YAAP,CAAoBG,OAApB,CAA4BT,GAA5B,CAAb;;AAEA,MAAI;AACFQ,IAAAA,MAAM,GAAGL,IAAI,CAACO,KAAL,CAAWF,MAAX,CAAT;AACD,GAFD,CAEE,OAAOG,CAAP,EAAU,CAAE;;AAEd,SAAOH,MAAP;AACD,CAfD